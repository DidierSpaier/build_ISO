#!/bin/sh
[ "$#" -ne 1 ] && echo "usage: $0 [salix|slackware|slint]" && exit
distribution="$1"
if [ ! "$distribution" = salix ] && [ ! "$distribution" = slackware ] && [ ! "$distribution" = slint ]; then
	echo "$distribution is not a supported distribution"
	exit
fi
export distribution
./get_latest_internationalized_scripts "$distribution" || exit
su -c "./put_packages_in_the_iso.sh $distribution" 2>&1|tee LOG1
echo "./put_packages_in_the_iso.sh $distribution ran" && read -r
./add_metadata_to_the_iso.sh "$distribution" 2>&1 | tee LOG2 || exit
echo "/add_metadata_to_the_iso.sh $distribution ran" && read -r
su -c "./unpack_slackware_initrd.sh $distribution" 2>&1 | tee LOG3  || exit
echo "./unpack_slackware_initrd.sh $distribution ran" && read -r
su -c "./customize_the_initrd.sh  $distribution" 2>&1 | tee LOG4 || exit
echo "./customize_the_initrd.sh  $distribution ran" && read -r
su -c "./create_installer_initrd.sh $distribution" 2>&1 | tee LOG5 || exit
echo "./create_installer_initrd.sh $distribution ran" read -r
./create_the_iso.sh "$distribution" 2>&1 | tee LOG6 || exit
echo "create_the_iso.sh $distribution"
